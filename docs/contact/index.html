---
layout: default
title: Contact Michael Troger
---
<h1>Contact</h1>
<p>Michael Troger, MSc.<br>
Puchenau, Austria<br>
&#109;&#64;&#116;&#114;&#111;&#103;&#101;&#114;&#46;&#97;&#112;&#112;
</p>
<p>As an IT enthusiast I care about IT privacy and security. 
The message below will be encrypted and opened in your email client, where you can finally send it over to me.
</p>
<noscript><p class="warning">This form does not work without JavaScript. It uses JavaScript to encrypt your message with OpenPGP.js.</p></noscript>
<form action="" id="form">
    <textarea id="input" rows="5" placeholder="Your message for me..."></textarea>
    <br>
    <input type="submit" value="Encrypt & open mail client" id="submit" disabled=true>
</form>
<div id="after-sent" class="hidden">
    <button id="copy-to-clipboard">Copy text to clipboard.</button>
    <p><b>Your email app should now have been opened. If it was not, then please manually send the message from above to &#109;&#64;&#116;&#114;&#111;&#103;&#101;&#114;&#46;&#97;&#112;&#112;</b></p>
</div>
<p class="note"><b>Not familiar with PGP yet?</b><br>PGP makes email communication much safer. If you press the above button, your message will be encrypted. It will start with "-----BEGIN PGP MESSAGE-----" and end with "-----END PGP MESSAGE-----". You can send it as it is. I will be able to decrypt and read your message. 
</p>
<p>
Download: <a href="https://troger.app/troger_public.asc">PGP Public Key</a>
<br>Fingerprint:<br>
CD61 A00F 7652 8C73 67D4<br>2E12 9D3B 8646 DE92 27FD
</p>
<p>You can find my public key also via the Web Key Directory (WKD) and on the 
<a href="https://keys.openpgp.org/">keys.openpgp.org</a> key server.
</p>
<script>

function init() {
    const form = document.getElementById('form');
    const submit = document.getElementById('submit');
    const input = document.getElementById('input');
    const afterSent = document.getElementById('after-sent');
    const copyToClipboard = document.getElementById('copy-to-clipboard');

    submit.disabled = false;

    copyToClipboard.onclick = () => {
        navigator.clipboard
            .writeText(input.value)
            .then(() => {
                alert("Copied to clipboard.");
            })
            .catch(() => {
                alert("Error. Couldn't copy to clipboard. Please copy manually.");
            });
    };

    form.onsubmit = (e) =>{
        e.preventDefault();
        
        input.disabled = true;
        submit.classList.add('hidden');

        (async () => {
            const response = await fetch('https://troger.app/troger_public.asc');
            const key = await response.text();

            const encrypted = await openpgp.encrypt({
                message: await openpgp.createMessage({ text: input.value }), 
                encryptionKeys: await openpgp.readKey({ armoredKey: key })
            });

            input.value = encrypted;

            afterSent.classList.remove('hidden');

            const body = encodeURIComponent(encrypted);
            window.location.href = `mailto:m@troger.app?subject=Encrypted%20message&body=${body}`;
        })();
    };

    if (input.value.startsWith('-----BEGIN PGP MESSAGE-----')) { // if the user has already encrypted the message (page reload)
        input.disabled = true;
        submit.classList.add('hidden');
        afterSent.classList.remove('hidden');
    }
}

</script>
<script async src="/js/openpgp.min.js" onload="init()"></script>
